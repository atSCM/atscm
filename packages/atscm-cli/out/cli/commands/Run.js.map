{"version":3,"sources":["../../../src/cli/commands/Run.js"],"names":["RunCommand","constructor","name","description","arguments","options","tasks","continue","run","cli","opts","_","T","tasksSimple","tasksJson","process","env","ATSCM_CONFIG_PATH","environment","configPath","require","modulePath","cwd","bold"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;;;AAGe,MAAMA,UAAN,2BAAiC;;AAE9C;;;;;AAKAC,cAAYC,IAAZ,EAAkBC,WAAlB,EAA+B;AAC7B,UAAMD,IAAN,EAAYC,WAAZ,EAAyB;AACvBC,iBAAW,YADY;AAEvBC,eAAS;AACPC,eAAO,kBAAWA,KADX;AAEP,wBAAgB,kBAAW,cAAX,CAFT;AAGP,sBAAc,kBAAW,YAAX,CAHP;AAIPC,kBAAU,kBAAWA;AAJd;AAFc,KAAzB;AASD;;AAED;;;;AAIAC,MAAIC,GAAJ,EAAS;AACP,UAAMC,OAAO;AACXC,SAAGF,IAAIJ,OAAJ,CAAYC,KADJ;AAEXA,aAAOG,IAAIJ,OAAJ,CAAYO,CAFR;AAGXC,mBAAaJ,IAAIJ,OAAJ,CAAYQ,WAHd;AAIXC,iBAAWL,IAAIJ,OAAJ,CAAYS,SAJZ;AAKXP,gBAAUE,IAAIJ,OAAJ,CAAYE;AALX,KAAb;;AAQAQ,YAAQC,GAAR,CAAYC,iBAAZ,GAAgCR,IAAIS,WAAJ,CAAgBC,UAAhD;;AAEA;AACAC,YAAQ,wCAAR,EACEV,IADF,EAEE;AACES,kBAAY,gBAAKV,IAAIS,WAAJ,CAAgBG,UAArB,EAAiC,gBAAjC,CADd;AAEEA,kBAAY,gBAAKZ,IAAIS,WAAJ,CAAgBI,GAArB,EAA0B,mBAA1B;AAFd,KAFF,EAKK;AACDnB,mBAAa,gBAAOoB,IAAP,CAAY,kBAAZ;AADZ,KALL;AAQD;;AA3C6C;kBAA3BvB,U","file":"Run.js","sourcesContent":["import { join } from 'path';\nimport colors from 'chalk';\nimport Command from '../../lib/cli/Command';\nimport CliOptions from '../Options';\n\n/**\n * The command invoked when running \"run\".\n */\nexport default class RunCommand extends Command {\n\n  /**\n   * Creates a new {@link RunCommand} with the specified name and description.\n   * @param {String} name The command's name.\n   * @param {String} description The command's description.\n   */\n  constructor(name, description) {\n    super(name, description, {\n      arguments: '[tasks...]',\n      options: {\n        tasks: CliOptions.tasks,\n        'tasks-simple': CliOptions['tasks-simple'],\n        'tasks-json': CliOptions['tasks-json'],\n        continue: CliOptions.continue,\n      },\n    });\n  }\n\n  /**\n   * Runs gulp with the specified tasks.\n   * @param {AtSCMCli} cli The current Cli instance.\n   */\n  run(cli) {\n    const opts = {\n      _: cli.options.tasks,\n      tasks: cli.options.T,\n      tasksSimple: cli.options.tasksSimple,\n      tasksJson: cli.options.tasksJson,\n      continue: cli.options.continue,\n    };\n\n    process.env.ATSCM_CONFIG_PATH = cli.environment.configPath;\n\n    // eslint-disable-next-line global-require\n    require('gulp-cli/lib/versioned/^4.0.0-alpha.2/')(\n      opts,\n      {\n        configPath: join(cli.environment.modulePath, '../Gulpfile.js'),\n        modulePath: join(cli.environment.cwd, 'node_modules/gulp'),\n      }, {\n        description: colors.bold('Available tasks:'),\n      });\n  }\n\n}\n"]}