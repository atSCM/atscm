{"version":3,"sources":["../../../src/lib/config/Atviseproject.js"],"names":["Atviseproject","host","port","opc","http","login","useTransformers","nodes","nodesToWatch","EditorRelatedNodes","ServerRelatedNodes","ignoreNodes","concat","inspect"],"mappings":";;;;;;AAEA;;;;AACA;;;;AACA;;;;;;AAEA;;;;AAIe,MAAMA,aAAN,CAAoB;;AAEjC;;;;AAIA,aAAWC,IAAX,GAAkB;AAChB,WAAO,WAAP;AACD;;AAED;;;;;;AAMA,aAAWC,IAAX,GAAkB;AAChB,WAAO;AACLC,WAAK,IADA;AAELC,YAAM;AAFD,KAAP;AAID;;AAED;;;;;;AAMA,aAAWC,KAAX,GAAmB;AACjB,WAAO,KAAP;AACD;;AAED;;;;AAIA,aAAWC,eAAX,GAA6B;AAC3B,WAAO,CACL,kCADK,EAEL,iCAFK,CAAP;AAID;;AAED;;;;;AAKA,aAAWC,KAAX,GAAmB;AACjB,WAAO,CACL,qBAAW,OAAX,CADK,EAEL,qBAAW,QAAX,CAFK,EAGL,qBAAW,qBAAX,CAHK,CAAP;AAKD;;AAED;;;;;AAKA,aAAWC,YAAX,GAA0B;AACxB,WAAO,CACL,qBAAW,gBAAX,CADK,EAEL,qBAAW,uCAAX,CAFK,CAAP;AAID;;AAED;;;;AAIA,aAAWC,kBAAX,GAAgC;AAC9B,WAAO,CACL,qBAAW,kCAAX,CADK,CAAP;AAGD;;AAED;;;;;AAKA,aAAWC,kBAAX,GAAgC;AAC9B,WAAO;AACL;AACA,yBAAW,gGAAX,CAFK,EAGL,qBAAW,0BAAX,CAHK,EAIL,qBAAW,8CAAX,CAJK,EAKL,qBAAW,6BAAX,CALK,CAAP;AAOD;;AAED;;;;;;AAMA,aAAWC,WAAX,GAAyB;AACvB,WAAO,KAAKF,kBAAL,CAAwBG,MAAxB,CAA+B,KAAKF,kBAApC,CAAP;AACD;;AAED;;;;;AAKA,SAAOG,OAAP,GAAiB;AACf,WAAO;AACLZ,YAAM,KAAKA,IADN;AAELC,YAAM,KAAKA,IAFN;AAGLG,aAAO,KAAKA,KAHP;AAILC,uBAAiB,KAAKA,eAJjB;AAKLC,aAAO,KAAKA,KALP;AAMLC,oBAAc,KAAKA,YANd;AAOLG,mBAAa,KAAKA;AAPb,KAAP;AASD;;AAvHgC;kBAAdX,a,EAVrB","file":"Atviseproject.js","sourcesContent":["/* eslint-disable no-useless-escape */\n\nimport NodeId from '../server/NodeId';\nimport DisplayTransformer from '../../transform/DisplayTransformer';\nimport ScriptTransformer from '../../transform/ScriptTransformer';\n\n/**\n * An *atvise-scm* project's configuration.\n * @abstract\n */\nexport default class Atviseproject {\n\n  /**\n   * The atvise-server's host. Defaults to *localhost*.\n   * @type {string}\n   */\n  static get host() {\n    return 'localhost';\n  }\n\n  /**\n   * The atvise-server ports to use.\n   * @type {Object}\n   * @property {number} [opc=4840] The OPC-UA port the atvise-server runs on.\n   * @property {number} [http=80] The HTTP port the atvise-server can be reached at.\n   */\n  static get port() {\n    return {\n      opc: 4840,\n      http: 80,\n    };\n  }\n\n  /**\n   * The login to use. Return `false` if no login is required (default).\n   * @type {Boolean|Object}\n   * @property {string} username The username to log in with.\n   * @property {string} password The password to log in with.\n   */\n  static get login() {\n    return false;\n  }\n\n  /**\n   * The transformers to use in this project. Defaults to a single {@link DisplayTransformer}.\n   * @type {Transformer[]}\n   */\n  static get useTransformers() {\n    return [\n      new DisplayTransformer(),\n      new ScriptTransformer(),\n    ];\n  }\n\n  /**\n   * The atvise-server nodes that atvise-scm should sync. Defaults to\n   * `['ns=1;s=AGENT', 'ns=1;s=SYSTEM', 'ns=1;s=ObjectTypes.PROJECT']`.\n   * @type {String[]|NodeId[]}\n   */\n  static get nodes() {\n    return [\n      new NodeId('AGENT'),\n      new NodeId('SYSTEM'),\n      new NodeId('ObjectTypes.PROJECT'),\n    ];\n  }\n\n  /**\n   * The atvise-server nodes to watch in the corresponding tasks. Defaults to all nodes containing\n   * displays.\n   * @type {String[]|NodeId[]}\n   */\n  static get nodesToWatch() {\n    return [\n      new NodeId('AGENT.DISPLAYS'),\n      new NodeId('SYSTEM.LIBRARY.PROJECT.OBJECTDISPLAYS'),\n    ];\n  }\n\n  /**\n   * An array of editor related node ids. They should be ignored in a atvise-scm project.\n   * @type {NodeId[]}\n   */\n  static get EditorRelatedNodes() {\n    return [\n      new NodeId('SYSTEM\\.JOURNALS\\.ProjectHistory'),\n    ];\n  }\n\n  /**\n   * An array of server related node ids. They should be ignored in a atvise-scm project\n   * as they are read-only.\n   * @type {NodeId[]}\n   */\n  static get ServerRelatedNodes() {\n    return [\n      // eslint-disable-next-line max-len\n      new NodeId('AGENT\\.HISTORY\\..*\\.(Stepped|PercentData(Good|Bad)|TreatUncertainAsBad|UseSlopedExtrapolation)'),\n      new NodeId('AGENT\\.OPCUA\\.server_url'),\n      new NodeId('AGENT\\.WEBACCESS\\.https?[0-9]+\\.(state|port)'),\n      new NodeId('SYSTEM\\.INFORMATION\\.LOGS\\.'),\n    ];\n  }\n\n  /**\n   * These nodes (and their subnodes, if any) will be ignored by atvise-scm. Defaults to\n   * {@link Atviseproject.EditorRelatedNodes} combined with\n   * {@link Atviseproject.ServerRelatedNodes}.\n   * @type {NodeId[]}\n   */\n  static get ignoreNodes() {\n    return this.EditorRelatedNodes.concat(this.ServerRelatedNodes);\n  }\n\n  /**\n   * Returns an object containing the properties to inspect.\n   * @see https://nodejs.org/api/util.html#util_util_inspect_object_options\n   * @return {Object} The object to inspect.\n   */\n  static inspect() {\n    return {\n      host: this.host,\n      port: this.port,\n      login: this.login,\n      useTransformers: this.useTransformers,\n      nodes: this.nodes,\n      nodesToWatch: this.nodesToWatch,\n      ignoreNodes: this.ignoreNodes,\n    };\n  }\n\n}\n"]}