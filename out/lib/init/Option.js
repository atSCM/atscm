'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var cov_1kswih9bcq = function () {
  var path = '/home/ubuntu/atscm/src/lib/init/Option.js',
      hash = '46cb8c7a9e36e9331b2fb8002f1b2dedb3f50428',
      global = new Function('return this')(),
      gcv = '__coverage__',
      coverageData = {
    path: '/home/ubuntu/atscm/src/lib/init/Option.js',
    statementMap: {
      '0': {
        start: {
          line: 23,
          column: 4
        },
        end: {
          line: 25,
          column: 5
        }
      },
      '1': {
        start: {
          line: 24,
          column: 6
        },
        end: {
          line: 24,
          column: 53
        }
      },
      '2': {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 75,
          column: 5
        }
      },
      '3': {
        start: {
          line: 28,
          column: 6
        },
        end: {
          line: 30,
          column: 7
        }
      },
      '4': {
        start: {
          line: 29,
          column: 8
        },
        end: {
          line: 29,
          column: 47
        }
      },
      '5': {
        start: {
          line: 36,
          column: 6
        },
        end: {
          line: 36,
          column: 41
        }
      },
      '6': {
        start: {
          line: 42,
          column: 6
        },
        end: {
          line: 42,
          column: 44
        }
      },
      '7': {
        start: {
          line: 48,
          column: 6
        },
        end: {
          line: 48,
          column: 40
        }
      },
      '8': {
        start: {
          line: 50,
          column: 6
        },
        end: {
          line: 52,
          column: 7
        }
      },
      '9': {
        start: {
          line: 51,
          column: 8
        },
        end: {
          line: 51,
          column: 47
        }
      },
      '10': {
        start: {
          line: 54,
          column: 6
        },
        end: {
          line: 54,
          column: 66
        }
      },
      '11': {
        start: {
          line: 55,
          column: 6
        },
        end: {
          line: 55,
          column: 52
        }
      },
      '12': {
        start: {
          line: 56,
          column: 6
        },
        end: {
          line: 56,
          column: 46
        }
      },
      '13': {
        start: {
          line: 62,
          column: 6
        },
        end: {
          line: 62,
          column: 46
        }
      },
      '14': {
        start: {
          line: 68,
          column: 6
        },
        end: {
          line: 68,
          column: 48
        }
      },
      '15': {
        start: {
          line: 74,
          column: 6
        },
        end: {
          line: 74,
          column: 40
        }
      },
      '16': {
        start: {
          line: 83,
          column: 4
        },
        end: {
          line: 83,
          column: 19
        }
      }
    },
    fnMap: {
      '0': {
        name: '(anonymous_0)',
        decl: {
          start: {
            line: 22,
            column: 2
          },
          end: {
            line: 22,
            column: 3
          }
        },
        loc: {
          start: {
            line: 22,
            column: 52
          },
          end: {
            line: 76,
            column: 3
          }
        }
      },
      '1': {
        name: '(anonymous_1)',
        decl: {
          start: {
            line: 82,
            column: 2
          },
          end: {
            line: 82,
            column: 3
          }
        },
        loc: {
          start: {
            line: 82,
            column: 27
          },
          end: {
            line: 84,
            column: 3
          }
        }
      }
    },
    branchMap: {
      '0': {
        loc: {
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 25,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 25,
            column: 5
          }
        }, {
          start: {
            line: 23,
            column: 4
          },
          end: {
            line: 25,
            column: 5
          }
        }]
      },
      '1': {
        loc: {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 75,
            column: 5
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 75,
            column: 5
          }
        }, {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 75,
            column: 5
          }
        }]
      },
      '2': {
        loc: {
          start: {
            line: 28,
            column: 6
          },
          end: {
            line: 30,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 28,
            column: 6
          },
          end: {
            line: 30,
            column: 7
          }
        }, {
          start: {
            line: 28,
            column: 6
          },
          end: {
            line: 30,
            column: 7
          }
        }]
      },
      '3': {
        loc: {
          start: {
            line: 50,
            column: 6
          },
          end: {
            line: 52,
            column: 7
          }
        },
        type: 'if',
        locations: [{
          start: {
            line: 50,
            column: 6
          },
          end: {
            line: 52,
            column: 7
          }
        }, {
          start: {
            line: 50,
            column: 6
          },
          end: {
            line: 52,
            column: 7
          }
        }]
      },
      '4': {
        loc: {
          start: {
            line: 50,
            column: 10
          },
          end: {
            line: 50,
            column: 68
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 50,
            column: 10
          },
          end: {
            line: 50,
            column: 35
          }
        }, {
          start: {
            line: 50,
            column: 39
          },
          end: {
            line: 50,
            column: 68
          }
        }]
      },
      '5': {
        loc: {
          start: {
            line: 54,
            column: 18
          },
          end: {
            line: 54,
            column: 65
          }
        },
        type: 'binary-expr',
        locations: [{
          start: {
            line: 54,
            column: 18
          },
          end: {
            line: 54,
            column: 39
          }
        }, {
          start: {
            line: 54,
            column: 43
          },
          end: {
            line: 54,
            column: 65
          }
        }]
      }
    },
    s: {
      '0': 0,
      '1': 0,
      '2': 0,
      '3': 0,
      '4': 0,
      '5': 0,
      '6': 0,
      '7': 0,
      '8': 0,
      '9': 0,
      '10': 0,
      '11': 0,
      '12': 0,
      '13': 0,
      '14': 0,
      '15': 0,
      '16': 0
    },
    f: {
      '0': 0,
      '1': 0
    },
    b: {
      '0': [0, 0],
      '1': [0, 0],
      '2': [0, 0],
      '3': [0, 0],
      '4': [0, 0],
      '5': [0, 0]
    },
    _coverageSchema: '332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'
  },
      coverage = global[gcv] || (global[gcv] = {});

  if (coverage[path] && coverage[path].hash === hash) {
    return coverage[path];
  }

  coverageData.hash = hash;
  return coverage[path] = coverageData;
}();

/**
 * An option the "atscm init" command handles.
 * TODO: Support function values for name, message, default, choices...
 */
class InitOption {

  /**
   * Creates a new option based either on a message and (optionally) a default value or some
   * options.
   * @param {String|Object} messageOrOptions The message or options to use.
   * @param {inquirer~PromptType} [messageOrOptions.type] The option's type.
   * @param {String} messageOrOptions.message The option's message. Required if `messageOrOptions`
   * is an object.
   * @param {String|Number} [messageOrOptions.default] The options's default value.
   * @param {inquirer~Validator} [messageOrOptions.validate] A function that validates user input.
   * @param {String[]|Number[]} [messageOrOptions.choices] The options's choices. Applies to to list
   * types only.
   * @param {Boolean|function(answers: Object): Boolean} [messageOrOptions.when] Weather or not to
   * prompt this option.
   * @param {String|Number} [defaultOrUndefined] The default value to use.
   */
  constructor(messageOrOptions, defaultOrUndefined) {
    ++cov_1kswih9bcq.f[0];
    ++cov_1kswih9bcq.s[0];

    if (messageOrOptions === undefined) {
      ++cov_1kswih9bcq.b[0][0];
      ++cov_1kswih9bcq.s[1];

      throw new Error('message or options required');
    } else {
      ++cov_1kswih9bcq.b[0][1];
    }

    ++cov_1kswih9bcq.s[2];
    if (typeof messageOrOptions === 'string') {
      ++cov_1kswih9bcq.b[1][0];
      ++cov_1kswih9bcq.s[3];

      if (messageOrOptions.length === 0) {
        ++cov_1kswih9bcq.b[2][0];
        ++cov_1kswih9bcq.s[4];

        throw new Error('message is required');
      } else {
        ++cov_1kswih9bcq.b[2][1];
      }

      /**
       * The option's {@link inquirer~PromptType}. Defaults to 'input'.
       * @type {inquirer~PromptType}
       */
      ++cov_1kswih9bcq.s[5];
      this.type = InitOption.DefaultType;

      /**
       * The option's message. A '?' sign is added automatically.
       * @type {String}
       */
      ++cov_1kswih9bcq.s[6];
      this.message = `${messageOrOptions}?`;

      /**
       * The default value to use.
       * @type {String|Number|undefined}
       */
      ++cov_1kswih9bcq.s[7];
      this.default = defaultOrUndefined;
    } else {
      ++cov_1kswih9bcq.b[1][1];
      ++cov_1kswih9bcq.s[8];

      if ((++cov_1kswih9bcq.b[4][0], !messageOrOptions.message) || (++cov_1kswih9bcq.b[4][1], messageOrOptions.length === 0)) {
        ++cov_1kswih9bcq.b[3][0];
        ++cov_1kswih9bcq.s[9];

        throw new Error('message is required');
      } else {
        ++cov_1kswih9bcq.b[3][1];
      }

      ++cov_1kswih9bcq.s[10];
      this.type = (++cov_1kswih9bcq.b[5][0], messageOrOptions.type) || (++cov_1kswih9bcq.b[5][1], InitOption.DefaultType);
      ++cov_1kswih9bcq.s[11];
      this.message = `${messageOrOptions.message}?`;
      ++cov_1kswih9bcq.s[12];
      this.default = messageOrOptions.default;

      /**
       * The choices available. Applies to list types only.
       * @type {String[]|Number[]|undefined}
       */
      ++cov_1kswih9bcq.s[13];
      this.choices = messageOrOptions.choices;

      /**
       * Validates the user input for this option.
       * @type {inquirer~Validator}
       */
      ++cov_1kswih9bcq.s[14];
      this.validate = messageOrOptions.validate;

      /**
       * A function or boolean that indicates weather or not to prompt this option.
       * @type {Boolean|function(answers: Object): Boolean|undefined}
       */
      ++cov_1kswih9bcq.s[15];
      this.when = messageOrOptions.when;
    }
  }

  /**
   * The default {@link inquirer~PromptType} to use. Equals 'input'.
   * @return {inquirer~PromptType}
   */
  static get DefaultType() {
    ++cov_1kswih9bcq.f[1];
    ++cov_1kswih9bcq.s[16];

    return 'input';
  }

}
exports.default = InitOption;